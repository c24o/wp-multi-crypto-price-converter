{"version":3,"file":"blocks/converter/view.js","mappings":"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","sources":["webpack://multi-crypto-convert-wp-plugin/./src/blocks/converter/FrontendConverter.tsx","webpack://multi-crypto-convert-wp-plugin/external window [\"wp\",\"element\"]","webpack://multi-crypto-convert-wp-plugin/external window [\"wp\",\"i18n\"]","webpack://multi-crypto-convert-wp-plugin/external window \"React\"","webpack://multi-crypto-convert-wp-plugin/external window \"ReactJSXRuntime\"","webpack://multi-crypto-convert-wp-plugin/webpack/bootstrap","webpack://multi-crypto-convert-wp-plugin/webpack/runtime/compat get default export","webpack://multi-crypto-convert-wp-plugin/webpack/runtime/define property getters","webpack://multi-crypto-convert-wp-plugin/webpack/runtime/hasOwnProperty shorthand","webpack://multi-crypto-convert-wp-plugin/webpack/runtime/make namespace object","webpack://multi-crypto-convert-wp-plugin/./src/blocks/converter/view.tsx"],"sourcesContent":["/**\n * React component for the frontend view of the Multi-Crypto Converter block.\n */\nimport { ReactElement, useEffect, useState } from 'react';\nimport { __ } from '@wordpress/i18n';\n\ninterface PricesMap {\n\t[key: string]: number;\n}\n\ninterface FrontendConverterProps {\n\tcoins: string[];\n}\n\nconst UPDATE_INTERVAL_MS = 60000;\n\n/**\n * Fetch prices from the REST API endpoint.\n *\n * @param {string} coinsParam - Comma-separated coin symbols.\n * @param {AbortSignal} [signal] - Optional abort signal for the fetch request.\n * @return {Promise<PricesMap>} A map of coin symbols to their prices in USD.\n */\nasync function fetchPrices( coinsParam: string, signal?: AbortSignal ): Promise<PricesMap> {\n\ttry {\n\t\tconst response = await fetch( `/wp-json/mcc/v1/prices?coins=${ coinsParam }`, { signal } );\n\t\tif ( ! response.ok ) {\n\t\t\tthrow new Error( `HTTP error! status: ${ response.status }` );\n\t\t}\n\t\tconst data = await response.json();\n\t\tif ( data.success && data.data ) {\n\t\t\tconst pricesMap: PricesMap = {};\n\t\t\tdata.data.forEach( ( item: { symbol: string, price_usd: string } ) => {\n\t\t\t\tpricesMap[ item.symbol ] = parseFloat( item.price_usd );\n\t\t\t} );\n\t\t\treturn pricesMap;\n\t\t}\n\t\tthrow new Error( data.message || 'Invalid API response' );\n\t} catch ( error ) {\n\t\tif ( error instanceof Error && error.name === 'AbortError' ) {\n\t\t\tthrow error;\n\t\t}\n\t\tconsole.error( 'Failed to fetch prices:', error );\n\t\treturn {};\n\t}\n}\n\n/**\n * Format the converted amount to display it.\n *\n * @param {string} coin - The coin to display.\n * @param {number} amount - The amount to format.\n * @return {string} The amount formatted to 8 decimal places.\n */\nfunction formatConvertedAmount( coin: string, amount: number ): string {\n\tif ( ! amount || ! coin ) return '';\n\tif ( 'usd' === coin ) return amount.toFixed( 2 );\n\treturn amount.toFixed( 8 );\n}\n\n/**\n * Format a number as a USD currency string.\n *\n * @param {number} price - The price to format.\n * @return {string} The formatted price string.\n */\nfunction formatPrice( price: number ): string {\n\tif ( ! price || price === 0 ) {\n\t\treturn 'â€”';\n\t}\n\treturn new Intl.NumberFormat( 'en-US', {\n\t\tstyle: 'currency',\n\t\tcurrency: 'USD',\n\t\tminimumFractionDigits: 2,\n\t\tmaximumFractionDigits: 2,\n\t} ).format( price );\n}\n\nexport default function FrontendConverter( { coins }: FrontendConverterProps ): ReactElement {\n\tconst [ prices, setPrices ] = useState<PricesMap>( {} );\n\tconst [ baseCoin, setBaseCoin ] = useState<string>( 'usd' );\n\tconst [ baseAmount, setBaseAmount ] = useState<number | ''>( 1 );\n\tconst [ isLoading, setIsLoading ] = useState<boolean>( true );\n\tconst [ error, setError ] = useState<boolean>( false );\n\n\tuseEffect( () => {\n\t\tconst controller = new AbortController();\n\t\tconst coinsParam = coins.join( ',' );\n\t\tlet timeoutId: ReturnType<typeof setTimeout>;\n\n\t\tconst updatePrices = async () => {\n\t\t\ttry {\n\t\t\t\tconst fetchedPrices = await fetchPrices( coinsParam, controller.signal );\n\t\t\t\t// Only update if we have data, otherwise keep old prices or show error\n\t\t\t\tif ( Object.keys( fetchedPrices ).length > 0 ) {\n\t\t\t\t\tsetPrices( fetchedPrices );\n\t\t\t\t\tsetError( false );\n\t\t\t\t} else {\n\t\t\t\t\tsetError( true );\n\t\t\t\t}\n\t\t\t} catch ( err ) {\n\t\t\t\t// Ignore abort errors\n\t\t\t\tif ( err instanceof Error && err.name !== 'AbortError' ) {\n\t\t\t\t\tsetError( true );\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif ( ! controller.signal.aborted ) {\n\t\t\t\t\tsetIsLoading( false );\n\t\t\t\t\t// Schedule the next update only after the current one finishes (Recursive Polling)\n\t\t\t\t\ttimeoutId = setTimeout( updatePrices, UPDATE_INTERVAL_MS );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// Start the polling loop.\n\t\tupdatePrices();\n\n\t\t// Cleanup timeout and abort fetch on component unmount/update.\n\t\treturn () => {\n\t\t\tclearTimeout( timeoutId );\n\t\t\tcontroller.abort();\n\t\t};\n\t}, [ coins ] );\n\n\t/**\n\t * Calculates the display value for a specific coin based on the current base coin.\n\t *\n\t * @param {string} targetCoin - The coin to calculate for.\n\t * @return {string | number} The calculated amount or the raw input if it's the base.\n\t */\n\tconst getDisplayAmount = ( targetCoin: string ): string | number => {\n\t\tif ( baseAmount === '' || baseAmount === 0 ) return '';\n\t\tif ( targetCoin === baseCoin ) return baseAmount;\n\t\tif ( 'usd' !== baseCoin && ! prices[ baseCoin ] ) return '';\n\t\tif ( 'usd' !== targetCoin && ! prices[ targetCoin ] ) return '';\n\n\t\tconst usdValue = 'usd' === baseCoin ? baseAmount : baseAmount * prices[ baseCoin ];\n\t\tconst targetValue = 'usd' === targetCoin ? usdValue : usdValue / prices[ targetCoin ];\n\t\treturn formatConvertedAmount( targetCoin, targetValue );\n\t};\n\n\t/**\n\t * Focus the input when clicking on the row cells.\n\t *\n\t * @param {React.MouseEvent<HTMLTableRowElement>} e - The click event.\n\t */\n\tconst handleRowClick = ( e: React.MouseEvent<HTMLTableRowElement> ) => {\n\t\tif ( 'INPUT' === ( e.target as HTMLElement ).tagName ) {\n\t\t\treturn;\n\t\t}\n\t\tconst input = e.currentTarget.querySelector( 'input' );\n\t\tif ( input ) {\n\t\t\tinput.focus();\n\t\t}\n\t};\n\n\treturn (\n\t\t<figure className=\"wp-block-table is-style-stripes\">\n\t\t\t<table>\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th scope=\"col\" className=\"mcc-converter-th-coin\">{ __( 'Cryptocurrency', 'multi-crypto-convert' ) }</th>\n\t\t\t\t\t\t<th scope=\"col\" className=\"mcc-converter-th-price\">{ __( 'Price (USD)', 'multi-crypto-convert' ) }</th>\n\t\t\t\t\t\t<th scope=\"col\" className=\"mcc-converter-th-amount\">{ __( 'Converted Amount', 'multi-crypto-convert' ) }</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr\n\t\t\t\t\t\tclassName={ `mcc-converter-row${ 'usd' === baseCoin ? ' mcc-row-active' : '' }` }\n\t\t\t\t\t\tonClick={ handleRowClick }\n\t\t\t\t\t>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t{ __( 'USD', 'multi-crypto-convert' ) }\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t{ formatPrice( 1.0 ) /* USD is always 1 USD */ }\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tid=\"mcc-usd-amount\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tclassName=\"mcc-amount-input\"\n\t\t\t\t\t\t\t\taria-label={ __( 'Amount in USD', 'multi-crypto-convert' ) }\n\t\t\t\t\t\t\t\tvalue={ getDisplayAmount( 'usd' ) }\n\t\t\t\t\t\t\t\tonChange={ ( e ) => {\n\t\t\t\t\t\t\t\t\tsetBaseCoin( 'usd' );\n\t\t\t\t\t\t\t\t\tsetBaseAmount( e.target.value === '' ? '' : parseFloat( e.target.value ) );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tplaceholder=\"1.00\"\n\t\t\t\t\t\t\t\tstep=\"0.01\"\n\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{ isLoading ? (\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td colSpan={ 3 }>{ __( 'Loading prices...', 'multi-crypto-convert' ) }</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t) : error ? (\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td colSpan={ 3 } className=\"mcc-error\">{ __( 'Error loading prices.', 'multi-crypto-convert' ) }</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t) : (\n\t\t\t\t\t\tcoins.map( ( coin ) => {\n\t\t\t\t\t\t\tconst price = prices[ coin ];\n\t\t\t\t\t\t\tconst isCurrentCoin = coin === baseCoin;\n\t\t\t\t\t\t\tconst inputId = `mcc-amount-${ coin }`;\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<tr\n\t\t\t\t\t\t\t\t\tkey={ coin }\n\t\t\t\t\t\t\t\t\tdata-coin={ coin }\n\t\t\t\t\t\t\t\t\tclassName={ isCurrentCoin ? 'mcc-row-active mcc-converter-row' : 'mcc-converter-row' }\n\t\t\t\t\t\t\t\t\tonClick={ handleRowClick }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t{ coin.toUpperCase() }\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t{ formatPrice( price ) }\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tid={ inputId }\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\taria-label={ `Amount in ${ coin.toUpperCase() }` }\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"mcc-amount-input\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={ getDisplayAmount( coin ) }\n\t\t\t\t\t\t\t\t\t\t\tonChange={ ( e ) => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetBaseCoin( coin );\n\t\t\t\t\t\t\t\t\t\t\t\tsetBaseAmount( e.target.value === '' ? '' : parseFloat( e.target.value ) );\n\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"-\"\n\t\t\t\t\t\t\t\t\t\t\tstep=\"0.00000001\"\n\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} )\n\t\t\t\t\t) }\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</figure>\n\t);\n}\n","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"React\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Frontend script for the Multi-Crypto Converter block. This file serves as the\n * entry point for rendering the React-based frontend component.\n *\n * It finds all instances of the converter block on the page and mounts the\n * `FrontendConverter` component into them, passing the selected coins as a prop.\n */\nimport { createRoot } from '@wordpress/element';\nimport FrontendConverter from './FrontendConverter';\n\n/**\n * Initialize all converter blocks on the page\n */\nfunction initializeBlocks() {\n\tconst blockWrappers = document.querySelectorAll<HTMLElement>( '.wp-block-multi-crypto-convert-converter' );\n\tblockWrappers.forEach( ( div ) => {\n\t\tconst coinsString = div.dataset.coins;\n\t\tif ( coinsString ) {\n\t\t\tconst coins = coinsString.split( ',' ).map( ( coin ) => coin.trim() ).filter( Boolean );\n\t\t\tif ( coins.length > 0 ) {\n\t\t\t\tconst root = createRoot( div );\n\t\t\t\troot.render( <FrontendConverter coins={ coins } /> );\n\t\t\t}\n\t\t}\n\t} );\n}\n\n// Initialize blocks on DOMContentLoaded.\nif ( document.readyState === 'loading' ) {\n\tdocument.addEventListener( 'DOMContentLoaded', initializeBlocks );\n} else {\n\tinitializeBlocks();\n}\n"],"names":["useEffect","useState","__","jsx","_jsx","jsxs","_jsxs","UPDATE_INTERVAL_MS","fetchPrices","coinsParam","signal","response","fetch","ok","Error","status","data","json","success","pricesMap","forEach","item","symbol","parseFloat","price_usd","message","error","name","console","formatConvertedAmount","coin","amount","toFixed","formatPrice","price","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","FrontendConverter","coins","prices","setPrices","baseCoin","setBaseCoin","baseAmount","setBaseAmount","isLoading","setIsLoading","setError","controller","AbortController","join","timeoutId","updatePrices","fetchedPrices","Object","keys","length","err","aborted","setTimeout","clearTimeout","abort","getDisplayAmount","targetCoin","usdValue","targetValue","handleRowClick","e","target","tagName","input","currentTarget","querySelector","focus","className","children","scope","onClick","id","type","value","onChange","placeholder","step","min","colSpan","map","isCurrentCoin","inputId","toUpperCase","createRoot","initializeBlocks","blockWrappers","document","querySelectorAll","div","coinsString","dataset","split","trim","filter","Boolean","root","render","readyState","addEventListener"],"ignoreList":[],"sourceRoot":""}